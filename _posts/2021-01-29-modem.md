---
title: "åœ¨2021å¹´ç”¨ç”µè¯çº¿æ‹¨å·ä¸Šç½‘ç®¡ç†æœåŠ¡å™¨"
date: 2021-01-29
layout: post
---

# ç”µè¯çº¿ä¾›ç”µ

æ²¡æœ‰ç”µè¯äº¤æ¢æœºã€‚ç›´æ¥ç”¨ç”µè¯çº¿æŠŠä¸¤ä¸ªMODEMæ¥èµ·æ¥(Dry line)æ˜¯ä¸å·¥ä½œçš„ã€‚

æ®è¯´ç”µè¯çº¿ä¸Šçš„ç”µå‹:

 - æ²¡æœ‰ç”µè¯å‘¼å…¥å‘¼å‡º 20V
 - æœ‰ç”µè¯å‘¼å…¥'RING': 20-25Hz, 50-120Vpp (ä¹Ÿæœ‰è¯´48V)
 - æ¥å¬çŠ¶æ€ 10V

ç”µè¯äº¤æ¢æœºçš„ä½œç”¨æ˜¯ï¼Œåˆ¶é€ ä¸€ä¸ª'RING'ä¿¡å·ï¼Œè®©MODEMæŒ¯é“ƒã€‚MODEMä¼šåœ¨ä¸²å£ä¸Šæ‰“å‡º`RING`å­—æ ·ã€‚

å‚è€ƒ[è¿™ä¸ª](http://www.tldp.org/HOWTO/Modem-HOWTO-26.html)å’Œ[è¿™ä¸ª](https://www.jagshouse.com/modem.html)

```
		     +  | | -
 GREEN----------+---||||---/\/\/--+-------------RED
    	    |   | |     R     |
    	    |  9 to 24V       |
    	    |                 |
    	    +---||------------+
    		C .47uF

 RED-----------------------------------------------GREEN

```

æ‰‹è¾¹åˆšå¥½ç¿»å‡ºä¸€ä¸ª9Vç”µæ± ã€‚ç”¨ä¸¤ä¸ªæ›²åˆ«é’ˆå½“ç”µæã€‚

å¹¶æŠŠå®¶é‡Œå¢™ä¸Šçš„ç”µè¯æ’åº§æ‹†äº†ã€‚æ­å‡ºäº†ä¸‹é¢çš„ä¸œè¥¿:

![modem]({{ site.imageurl }}/modem.jpg)

# ç›´æ¥é€šä¿¡

å®¢æˆ·ç«¯:

```bash
picocom -b 115200 /dev/tty.usbmodem2

ATX0  #å¿½ç•¥æ‹¨å·éŸ³
ATDT123123 #éšä¾¿æ‹¨ä¸€ä¸ªå·, ATDä¹Ÿè¡Œ, ATD100, ATDT100éƒ½å¯ä»¥
```

(æœåŠ¡å™¨)å±€ç«¯:

```bash
picocom -b 115200 /dev/ttyACM0

ATA #æ¥ç”µè¯, Answer
```

ç„¶åä¸¤åªğŸ±å°±ä¼šåå•†ï¼Œæç¤º

```
CONNECT 115200
```

ç„¶åé“¾è·¯å°±é€šäº†ï¼Œç»§ç»­åœ¨picocomé‡Œæ‰“å­—ï¼Œå¯¹ç«¯å°±ä¼šæ˜¾ç¤º


# è¿›ä¸€æ­¥: getty

åœ¨æœåŠ¡å™¨(å±€ç«¯)æŒ‰`C-a C-q`é€€å‡ºpicocom


```bash
systemctl start getty@ttyACM0.service #åœ¨/lib/systemd/system/getty\@.service é‡Œå¯ä»¥çœ‹åˆ°ï¼Œå®é™…ä¸Šæ˜¯/sbin/agetty
```

è¿™æ—¶ï¼Œåœ¨å®¢æˆ·ç«¯å°±å‡ºç°äº†

```
login:
```

å¯ä»¥åŠ¨æ‰‹äº†ã€‚

æœ‰è¶£çš„æ˜¯:

```bash
$ w
USER     TTY      FROM              LOGIN@  IDLE WHAT
scateu   ttyACM0  .....
```

# æ— äººå€¼å®ˆ: mgetty

ç”±äºæˆ‘ä»¬æ²¡æœ‰æŒ¯é“ƒä¿¡å·ï¼Œæ— æ³•å‡ºç°`RING`å­—æ ·ã€‚å› æ­¤è®©å®ƒè‡ªåŠ¨å›å¤`ATA`æ¥å¼ºåˆ¶æ¥å¬ã€‚(ä¸æ˜¯å¥½çš„é€‰æ‹©)

```bash
sudo /usr/sbin/mgetty -D -s 115200 -m '"" ATA' /dev/ttyACM0 #åœ¨å®¢æˆ·ç«¯ATDæŒ‡ä»¤ä¹‹åå†æ•²å›è½¦
tail -f /var/log/mgetty.ttyACM0
```


# See also

 - æ®è¯´ç”¨`AT+MS=V32`è®¾ç½®æ³¢ç‰¹ç‡ä¸º9600ï¼ŒSkypeä¸Šä¹Ÿå¾ˆç¨³
 - [Dialup modem trying to train on VoIP - YouTube](https://www.youtube.com/watch?v=XK0ReVwK8wE)
 - [Using a VOIP Line for DUN â€“ Albal's Blog](https://albal21.wordpress.com/2013/01/21/using-a-voip-line-for-dun/)
 - [Opera singers dubbed with dial up modems - YouTube](https://www.youtube.com/watch?v=AdgvceSBroU)
 - [56k and 33.6k Modems Connecting to Each Other with no Phone Service - YouTube](https://www.youtube.com/watch?v=luarFqislIc)
 - [NO CARRIER - Wikipedia](https://en.wikipedia.org/wiki/NO_CARRIER)
 - [Null modem - Wikipedia](https://en.wikipedia.org/wiki/Null_modem)
 - [How to Get Emergency Power From a Phone Line : 5 Steps - Instructables](https://www.instructables.com/How-to-Get-Emergency-Power-from-a-Phone-Line/)
 - [Dry loop - Wikipedia](https://en.wikipedia.org/wiki/Dry_loop)
 - [Modem-HOWTO: Appendix F: Connecting 2 Modems Directly Back-to-Back (Leased Lines).](https://tldp.org/HOWTO/Modem-HOWTO-26.html)
 - [Connecting two computers using their modems, without a telephone line](https://www.jagshouse.com/modem.html)
 - [Direct Connecting Two (old Fashioned) Modems or Telephones. : 5 Steps - Instructables](https://www.instructables.com/Direct-connecting-two-old-fashioned-modems-or-te/)
 - [telephone - Wiring up old phone ringer to arduino - Electrical Engineering Stack Exchange](https://electronics.stackexchange.com/questions/5531/wiring-up-old-phone-ringer-to-arduino)
 - [Ring signal generator - YouTube](https://www.youtube.com/watch?v=9afGtWbQDKw)
 - [mgetty Attachment 1701152 Details for Bug 1856765 â€“ Patch sent upstream](https://bugzilla.redhat.com/attachment.cgi?id=1701152&action=diff)
 - [Dial up server - Doge Microsystems](https://dogemicrosystems.ca/wiki/Dial_up_server)
 - [Setup your own Dial-Up Networking Server with real hardware! - YouTube](https://www.youtube.com/watch?v=Bk86uqEiwpE)
 - [Dial-up pool - Doge Microsystems](https://dogemicrosystems.ca/wiki/Dial-up_pool)
 - [Build Your Own Dial-Up ISP â€“ Now With Modem Pool! \| Hackaday](https://hackaday.com/2020/05/30/build-your-own-dial-up-isp-now-with-modem-pool/)
 - [Setting up my own Dialup Internet connection using a Mac, a PC, and an eBay PBX - YouTube](https://www.youtube.com/watch?v=Fk4-pPati-U)
 - [Direct connection between two modems for routing. - Ars Technica OpenForum](https://arstechnica.com/civis/viewtopic.php?f=10&t=1012182)
 - æœç´¢å…³é”®è¯ "Dial in" "Dial up"
